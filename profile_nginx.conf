server {
    # Listen on port 80 inside the container.
    # In Docker, Nginx usually just listens on 80; the domain/port mapping is handled by the host or ingress.
    listen 80;

    # Serve the SPA (Single Page Application) static files.
    # `try_files` ensures that direct access to frontend routes (e.g., /profile/123) falls back to /index.html,
    # so the SPA router can handle the route instead of returning 404.
    location / {
        root /usr/share/nginx/html;
        try_files $uri $uri/ /index.html;
        index index.html index.htm;
    }

    # Custom error page for upstream/server errors.
    error_page 500 502 503 504 /50x.html;

    # Serve the error page file.
    location = /50x.html {
        root html;
    }
}
